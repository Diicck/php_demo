<template>
  <!-- 周 -->
  <div class="finsh-node-point" v-if="data">
    <NodeMonth
        :data="data"
        :index="index"
        :class="index % 2 ? 'node-month' : 'node-month-1'"
    ></NodeMonth>
    <!-- 圆圈 -->
    <div class="circle" :style="{ backgroundColor: data.style.bgColor }"></div>
    <div :class="index % 2 == 0 ? 'dashedCircle' : 'dashedCircleturn'">
      <div class="circle-small"></div>
      <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          fill="none"
          version="1.1"
          width="12"
          height="152"
          viewBox="0 0 12 152"
      >
        <g>
          <path
              d="M12,6Q12,6.2633,11.9769,6.52558Q11.9539,6.78787,11.9079,7.04712Q11.862,7.30638,11.7935,7.56061Q11.725,7.81485,11.6345,8.06211Q11.544,8.30936,11.4322,8.54774Q11.3204,8.78612,11.1882,9.01379Q11.0559,9.24147,10.9042,9.45668Q10.7525,9.67189,10.5826,9.87298Q10.4126,10.0741,10.2257,10.2595Q10.0388,10.445,9.83634,10.6133Q9.63389,10.7816,9.41748,10.9316Q9.20107,11.0816,8.97235,11.212Q8.74363,11.3425,8.50436,11.4524Q8.2651,11.5623,8.01713,11.6508Q7.76916,11.7393,7.51439,11.8057Q7.25961,11.8722,7,11.9161L7,140.084Q7.25961,140.128,7.51439,140.194Q7.76916,140.261,8.01713,140.349Q8.2651,140.438,8.50436,140.548Q8.74363,140.658,8.97235,140.788Q9.20107,140.918,9.41748,141.068Q9.63389,141.218,9.83634,141.387Q10.0388,141.555,10.2257,141.74Q10.4126,141.926,10.5826,142.127Q10.7525,142.328,10.9042,142.543Q11.0559,142.759,11.1882,142.986Q11.3204,143.214,11.4322,143.452Q11.544,143.691,11.6345,143.938Q11.725,144.185,11.7935,144.439Q11.862,144.694,11.9079,144.953Q11.9539,145.212,11.9769,145.474Q12,145.737,12,146Q12,146.147,11.9928,146.294Q11.9855,146.442,11.9711,146.588Q11.9567,146.735,11.9351,146.88Q11.9134,147.026,11.8847,147.171Q11.856,147.315,11.8202,147.458Q11.7844,147.601,11.7416,147.742Q11.6989,147.883,11.6493,148.021Q11.5996,148.16,11.5433,148.296Q11.4869,148.432,11.4239,148.565Q11.361,148.698,11.2915,148.828Q11.2221,148.958,11.1464,149.085Q11.0706,149.211,10.9888,149.333Q10.907,149.456,10.8192,149.574Q10.7315,149.692,10.6381,149.806Q10.5446,149.92,10.4457,150.029Q10.3468,150.138,10.2426,150.243Q10.1385,150.347,10.0294,150.446Q9.92022,150.545,9.80636,150.638Q9.6925,150.731,9.57419,150.819Q9.45589,150.907,9.33342,150.989Q9.21095,151.071,9.08462,151.146Q8.95828,151.222,8.82838,151.292Q8.69848,151.361,8.56533,151.424Q8.43218,151.487,8.2961,151.543Q8.16002,151.6,8.02134,151.649Q7.88266,151.699,7.74171,151.742Q7.60076,151.784,7.45788,151.82Q7.315,151.856,7.17054,151.885Q7.02608,151.913,6.88038,151.935Q6.73469,151.957,6.5881,151.971Q6.44152,151.986,6.29441,151.993Q6.14729,152,6,152Q5.85271,152,5.70559,151.993Q5.55848,151.986,5.4119,151.971Q5.26531,151.957,5.11962,151.935Q4.97392,151.913,4.82946,151.885Q4.685,151.856,4.54212,151.82Q4.39924,151.784,4.25829,151.742Q4.11734,151.699,3.97866,151.649Q3.83998,151.6,3.7039,151.543Q3.56782,151.487,3.43467,151.424Q3.30152,151.361,3.17162,151.292Q3.04172,151.222,2.91538,151.146Q2.78905,151.071,2.66658,150.989Q2.54411,150.907,2.4258,150.819Q2.3075,150.731,2.19364,150.638Q2.07978,150.545,1.97065,150.446Q1.86151,150.347,1.75736,150.243Q1.65321,150.138,1.55429,150.029Q1.45538,149.92,1.36194,149.806Q1.2685,149.692,1.18075,149.574Q1.09301,149.456,1.01118,149.333Q0.929351,149.211,0.853628,149.085Q0.777905,148.958,0.708472,148.828Q0.63904,148.698,0.576064,148.565Q0.513089,148.432,0.456723,148.296Q0.400357,148.16,0.350736,148.021Q0.301114,147.883,0.258358,147.742Q0.215601,147.601,0.179812,147.458Q0.144023,147.315,0.115288,147.171Q0.0865531,147.026,0.0649409,146.88Q0.0433288,146.735,0.0288916,146.588Q0.0144545,146.442,0.00722726,146.294Q0,146.147,0,146Q0,145.737,0.023064,145.474Q0.0461279,145.212,0.0920785,144.953Q0.138029,144.694,0.206513,144.439Q0.274997,144.185,0.365488,143.938Q0.455979,143.691,0.567781,143.452Q0.679583,143.214,0.811836,142.986Q0.94409,142.759,1.09578,142.543Q1.24747,142.328,1.41742,142.127Q1.58738,141.926,1.7743,141.74Q1.96122,141.555,2.16366,141.387Q2.36611,141.218,2.58252,141.068Q2.79894,140.918,3.02765,140.788Q3.25637,140.658,3.49564,140.548Q3.7349,140.438,3.98287,140.349Q4.23084,140.261,4.48561,140.194Q4.74039,140.128,5,140.084L5,11.9161Q4.74039,11.8722,4.48561,11.8057Q4.23084,11.7393,3.98287,11.6508Q3.7349,11.5623,3.49564,11.4524Q3.25637,11.3425,3.02765,11.212Q2.79894,11.0816,2.58252,10.9316Q2.36611,10.7816,2.16366,10.6133Q1.96122,10.445,1.7743,10.2595Q1.58738,10.0741,1.41742,9.87298Q1.24747,9.67189,1.09578,9.45668Q0.94409,9.24147,0.811836,9.01379Q0.679583,8.78612,0.567781,8.54774Q0.455979,8.30936,0.365488,8.0621Q0.274997,7.81485,0.206513,7.56061Q0.138029,7.30638,0.0920785,7.04712Q0.0461279,6.78787,0.023064,6.52558Q0,6.2633,0,6Q0,5.85271,0.00722726,5.70559Q0.0144545,5.55848,0.0288916,5.4119Q0.0433288,5.26531,0.0649409,5.11962Q0.0865531,4.97392,0.115288,4.82946Q0.144023,4.685,0.179812,4.54212Q0.215601,4.39924,0.258358,4.25829Q0.301114,4.11734,0.350736,3.97866Q0.400357,3.83998,0.456723,3.7039Q0.513089,3.56782,0.576064,3.43467Q0.63904,3.30152,0.708472,3.17162Q0.777905,3.04172,0.853628,2.91538Q0.929351,2.78905,1.01118,2.66658Q1.09301,2.54411,1.18075,2.4258Q1.2685,2.3075,1.36194,2.19364Q1.45538,2.07978,1.55429,1.97065Q1.65321,1.86151,1.75736,1.75736Q1.86151,1.65321,1.97065,1.55429Q2.07978,1.45538,2.19364,1.36194Q2.3075,1.2685,2.4258,1.18075Q2.54411,1.09301,2.66658,1.01118Q2.78905,0.929351,2.91538,0.853628Q3.04172,0.777905,3.17162,0.708472Q3.30152,0.63904,3.43467,0.576064Q3.56782,0.513089,3.7039,0.456723Q3.83998,0.400357,3.97866,0.350736Q4.11734,0.301114,4.25829,0.258358Q4.39924,0.215601,4.54212,0.179812Q4.685,0.144023,4.82946,0.115288Q4.97392,0.0865531,5.11962,0.0649409Q5.26532,0.0433288,5.4119,0.0288916Q5.55848,0.0144545,5.70559,0.00722726Q5.85271,0,6,0Q6.14729,0,6.29441,0.00722726Q6.44152,0.0144545,6.5881,0.0288916Q6.73469,0.0433288,6.88038,0.0649409Q7.02608,0.0865531,7.17054,0.115288Q7.315,0.144023,7.45788,0.179812Q7.60076,0.215601,7.74171,0.258358Q7.88266,0.301114,8.02134,0.350736Q8.16002,0.400357,8.2961,0.456723Q8.43218,0.513089,8.56533,0.576064Q8.69848,0.63904,8.82838,0.708472Q8.95828,0.777905,9.08462,0.853628Q9.21095,0.929351,9.33342,1.01118Q9.45589,1.09301,9.5742,1.18075Q9.6925,1.2685,9.80636,1.36194Q9.92022,1.45538,10.0294,1.55429Q10.1385,1.65321,10.2426,1.75736Q10.3468,1.86151,10.4457,1.97065Q10.5446,2.07978,10.6381,2.19364Q10.7315,2.3075,10.8192,2.4258Q10.907,2.54411,10.9888,2.66658Q11.0706,2.78905,11.1464,2.91538Q11.2221,3.04172,11.2915,3.17162Q11.361,3.30152,11.4239,3.43467Q11.4869,3.56782,11.5433,3.7039Q11.5996,3.83998,11.6493,3.97866Q11.6989,4.11734,11.7416,4.25829Q11.7844,4.39924,11.8202,4.54212Q11.856,4.685,11.8847,4.82946Q11.9134,4.97392,11.9351,5.11962Q11.9567,5.26532,11.9711,5.4119Q11.9855,5.55848,11.9928,5.70559Q12,5.85271,12,6Z"
              fill-rule="evenodd"
              :fill="data.style.bgColor"
              fill-opacity="1"
          />
        </g>
      </svg>
      <div class="circle-small"></div>
      <div class="dashedCircle-text">
        <div class="node-week-ear-content">
          <div
              class="node-week-ear-left"
              :style="{ backgroundColor: data.style.bgColor }"
          ></div>
          <div
              class="node-week-ear-right"
              :style="{ backgroundColor: data.style.bgColor }"
          ></div>
          <div
              class="node-weel—top"
              :style="{ backgroundColor: data.style.bgColor }"
          ></div>

          <div
              class="dashedCircle-text-examine"
              :style="{ backgroundColor: data.style.bgColor+'19' }"
              @click="handleLoadData(data.data)"
          >
            <p class="examine-look">点击查看</p>
            <div class="examine-record">
              <span class="record1">Week {{ data.data.id }}</span>
              <p class="record2">考核记录</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import NodeMonth from "./node-month.vue";

export default {
  name: "finsh-node-week",
  mixins: [],
  props: {
    data: {
      default: null,
      type: Object,
    },
    index: {
      default: 0,
      type: Number,
    },
  },
  data() {
    return {};
  },
  methods: {
    handleLoadData(data) {
      this.$bus.$emit("modal:week", data);
    },
  },
  components: { NodeMonth },
};
</script>

<style lang="scss" scoped>
.finsh-node-point {
  width: 24px;
  height: 24px;
  position: relative;
  .node-month {
    position: absolute;
    top: -50px;
    left: -65px;
  }
  .node-month-1 {
    position: absolute;
    top: 50px;
    left: -65px;
  }
  .circle {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #fd5f17;
  }
  .dashedCircle {
    height: 100%;
    position: absolute;
    top: -170px;
    left: 50%;
    transform: translateX(-50%);
    .dashedCircle-text {
      position: absolute;
      top: -160px;
      left: 50%;
      transform: translateX(-50%);

      .dashedCircle-text-img1 {
        position: relative;
        width: 134px;
      }
    }
  }
  // 向上
  .dashedCircleturn {
    height: 100%;
    position: absolute;
    top: 30px;
    left: 50%;
    transform: translateX(-50%);

    .dashedCircle-text {
      position: absolute;
      top: 165px;
      left: 50%;
      transform: translateX(-50%);
      .dashedCircle-text-img1 {
        position: relative;
        width: 134px;
      }
    }
  }
  // 向下
  .dashedCircle-text-examine {
    position: absolute;
    width: 134px;
    height: 120px;
    top: 24px;
    cursor: pointer;
    background: #ffe5cf;
    border-radius: 25px;




    .examine-look {
      position: relative;
      font-size: 24px;
      line-height: 42px;
      text-align: center;
      color: #ffffff;
      z-index: 2;
    }
    .examine-record {
      font-size: 24px;
      font-weight: 500;
      line-height: 24px;
      text-align: center;
      color: #333333;
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
  }
  // 切图部分
  .node-week-ear-content {
    position: relative;
    width: 134px;
    height: 120px;
  }
  .node-week-ear-left {
    position: absolute;
    top: 10px;
    left: 20px;
    width: 20px;
    height: 25px;
    background: #fd5f17;
    border-radius: 5px 5px 0 0;
  }
  .node-week-ear-right {
    position: absolute;
    top: 10px;
    right: 20px;
    width: 20px;
    height: 25px;
    background: #fd5f17;
    border-radius: 5px 5px 0 0;
  }
  .node-weel—top {
    width: 100%;
    height: 45px;
    opacity: 1;
    position: absolute;
    top: 22px;
    left: 0;
    background: #fd5f17;
    border-radius: 25px 25px 0 0;
    z-index: 1;
  }
}
</style>